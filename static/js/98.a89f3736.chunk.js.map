{"version":3,"file":"static/js/98.a89f3736.chunk.js","mappings":"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","sources":["components/BookForm/BookForm.styled.js","components/BookForm/BookForm.jsx","store/rooms/selectors.js","pages/Coworking.jsx","services/cartServices.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const PriceText = styled.p`\n  order: ${({ jsOrder }) => jsOrder};\n  margin-block-end: 20px;\n  font-size: 22px;\n  font-weight: 700;\n  line-height: 1.3334;\n  text-align: center;\n  @media screen and (${props => props.theme.devices.tablet}) {\n    font-size: 28px;\n  }\n`;\n","import { useState } from 'react';\nimport { PriceText } from './BookForm.styled';\nimport { lang } from 'lang/lang';\nimport { WKForm } from 'components/Global/WKForm/WKForm';\nimport { useAuth } from 'hooks/useAuth';\nimport { LOCALE_DE, LOCALE_EN, LOCALE_UA } from 'utils/constants';\nimport { useDispatch } from 'react-redux';\nimport { addProductToCart } from 'store/cart/operations';\nimport { createNewProduct } from 'services/cartServices';\n\nexport const BookForm = ({ action, room }) => {\n  const dispatch = useDispatch();\n\n  const { locale, shortLocale, user } = useAuth();\n\n  const [count, setCount] = useState(0);\n\n  const updatePrice = count => {\n    setCount(Number(count));\n  };\n\n  const handleSubmit = formData => {\n    let res = {};\n    res.count = Number(formData.hours_selector);\n    res.date = formData.picker.split('.').reverse().join('-');\n    res.archived = false;\n    res.category = 'rooms';\n    res.productId = room._id;\n    const newProduct = createNewProduct(res, room);\n    dispatch(addProductToCart(newProduct));\n  };\n\n  return (\n    <WKForm\n      dataId={room?.en?.title}\n      locale={locale}\n      onFormSubmit={handleSubmit}\n      selectCallback={updatePrice}\n      defaultValues={{ name: user.name }}\n      children\n    >\n      <PriceText jsOrder={2}>\n        {lang[locale].price}: {count * room[shortLocale].price}\n        {locale === LOCALE_EN && <span>&#36;</span>}\n        {locale === LOCALE_DE && <span>&#8364;</span>}\n        {locale === LOCALE_UA && <span>&#8372;</span>}\n      </PriceText>\n    </WKForm>\n  );\n};\n","export const selectRooms = state => state.rooms.rooms;\n","import { useEffect, useState } from 'react';\nimport { Hero } from 'components/Hero/Hero';\nimport { useModal } from 'hooks/useModal';\nimport { BookForm } from 'components/BookForm/BookForm';\nimport { PageContent } from 'components/Global/PageContent/PageContent';\nimport { Modal } from 'components/Global/Modal/Modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectRooms } from 'store/rooms/selectors';\nimport { getRooms } from 'store/rooms/operations';\n\nconst Coworking = () => {\n  const dispatch = useDispatch();\n  const { isModalOpen, openModal, closeModal } = useModal();\n  const [selectedRoom, setSelectedRoom] = useState('');\n\n  useEffect(() => {\n    dispatch(getRooms());\n  }, [dispatch]);\n  const sections = useSelector(selectRooms);\n\n  const showBookForm = rommId => {\n    const i = sections.findIndex(option => option._id === rommId);\n    setSelectedRoom(sections[i]);\n    openModal();\n  };\n\n  return (\n    <>\n      <Hero page=\"coworking\" />\n      {sections?.map((section, index) => (\n        <PageContent\n          key={section._id}\n          id={`0${index + 1}`}\n          section={section}\n          page=\"coworking\"\n          styles={index % 2 !== 0 ? 'dark' : 'light'}\n          showBookForm={showBookForm}\n        />\n      ))}\n      {isModalOpen && (\n        <Modal onClose={closeModal}>\n          <BookForm action={closeModal} room={selectedRoom} />\n        </Modal>\n      )}\n    </>\n  );\n};\n\nexport default Coworking;\n","export const createNewCarts = (products, cartArray) => {\n  let newCarts = [];\n  products.forEach(el => {\n    let res = structuredClone(el);\n    const id = el.productId;\n    const isExist = cartArray.find(current => current._id === id);\n    if (isExist) {\n      if (el.standart) {\n        res.en.standart = isExist.en.standart;\n        res.de.standart = isExist.de.standart;\n        res.ua.standart = isExist.ua.standart;\n      }\n      if (el.xl) {\n        res.en.xl = isExist.en.xl;\n        res.de.xl = isExist.de.xl;\n        res.ua.xl = isExist.ua.xl;\n      }\n      if (el.count) {\n        res.en.price = isExist.en.price;\n        res.de.price = isExist.de.price;\n        res.ua.price = isExist.ua.price;\n      }\n    }\n    newCarts.push(res);\n  });\n  return newCarts;\n};\n\nexport const createNewProduct = (cart, product) => {\n  let copy = structuredClone(product);\n  delete copy._id;\n  delete copy.archived;\n  delete copy.index;\n  delete copy.water;\n  delete copy.coffee;\n  delete copy.milk;\n  delete copy.weight;\n  delete copy.de.ingredients;\n  delete copy.en.ingredients;\n  delete copy.ua.ingredients;\n  delete copy.de.standart;\n  delete copy.en.standart;\n  delete copy.ua.standart;\n  delete copy.de.xl;\n  delete copy.en.xl;\n  delete copy.ua.xl;\n  return { ...cart, ...copy };\n};\n\nexport const totalPrice = (cart, locale) => {\n  let res = [];\n  cart.forEach(el => {\n    if (el.standart) {\n      const count = Number(el.standart);\n      const price = Number(el[locale].standart);\n      res.push(count * price);\n    }\n    if (el.xl) {\n      const count = Number(el.xl);\n      const price = Number(el[locale].xl);\n      res.push(count * price);\n    }\n    if (el.count) {\n      const count = Number(el.count);\n      const price = Number(el[locale].price);\n      res.push(count * price);\n    }\n  });\n  let total = 0;\n  res.forEach(el => (total = total + el));\n  return total;\n};\n"],"names":["PriceText","styled","p","_templateObject","_taggedTemplateLiteral","_ref","jsOrder","props","theme","devices","tablet","BookForm","action","_room$en","room","dispatch","useDispatch","_useAuth","useAuth","locale","shortLocale","user","_useState","useState","_useState2","_slicedToArray","count","setCount","_jsx","WKForm","_defineProperty","dataId","en","title","onFormSubmit","formData","res","Number","hours_selector","date","picker","split","reverse","join","archived","category","productId","_id","newProduct","createNewProduct","addProductToCart","selectCallback","defaultValues","name","children","_jsxs","lang","price","LOCALE_EN","LOCALE_DE","LOCALE_UA","selectRooms","state","rooms","_useModal","useModal","isModalOpen","openModal","closeModal","selectedRoom","setSelectedRoom","useEffect","getRooms","sections","useSelector","showBookForm","rommId","i","findIndex","option","_Fragment","Hero","page","map","section","index","PageContent","id","concat","styles","Modal","onClose","createNewCarts","products","cartArray","newCarts","forEach","el","structuredClone","isExist","find","current","standart","de","ua","xl","push","cart","product","copy","water","coffee","milk","weight","ingredients","_objectSpread","totalPrice","total"],"sourceRoot":""}